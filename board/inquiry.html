<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>제품 문의 | 서풍</title>
    <meta name="description" content="서풍 제품 문의 - 제품 정보, 샘플 요청, 거래 상담">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.9/dist/web/static/pretendard.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="../css/responsive.css">
    <link rel="stylesheet" href="../css/board.css">
</head>
<body>
    <!-- Header -->
    <header class="header" id="header">
        <div class="header__container">
            <a href="../index.html" class="logo">
                <div class="logo__icon">
                    <img src="../logo_transparent.png" alt="서풍 로고">
                </div>
                <div class="logo__text">
                    <span class="logo__main">서풍</span>
                    <span class="logo__sub">SEOPOONG</span>
                </div>
            </a>

            <nav class="nav">
                <ul class="nav__list" id="navList">
                    <li><a href="../index.html" class="nav__link">홈</a></li>
                    <li><a href="../about.html" class="nav__link">회사소개</a></li>
                    <li><a href="../process.html" class="nav__link">가공 프로세스</a></li>
                    <li><a href="../products.html" class="nav__link">제품</a></li>
                    <li><a href="../gallery.html" class="nav__link">갤러리</a></li>
                    <li><a href="../board.html" class="nav__link nav__link--active">게시판</a></li>
                    <li><a href="../contact.html" class="nav__link nav__link--cta">문의하기</a></li>
                </ul>
                <button class="nav__toggle" id="navToggle" aria-label="메뉴 열기">
                    <span class="nav__toggle-bar"></span>
                    <span class="nav__toggle-bar"></span>
                    <span class="nav__toggle-bar"></span>
                </button>
            </nav>
        </div>
    </header>

    <!-- Page Header -->
    <section class="page-header">
        <div class="page-header__content">
            <span class="page-header__tag">INQUIRY</span>
            <h1 class="page-header__title">제품 문의</h1>
            <p class="page-header__desc">제품 정보, 샘플 요청 등 궁금한 점을 문의해 주세요</p>
        </div>
    </section>

    <!-- Inquiry Form Section -->
    <section class="section">
        <div class="container" style="max-width: 800px;">
            <div class="board-form">
                <form action="#" method="post" id="inquiryForm">
                    <!-- 문의 유형 -->
                    <div class="form-group">
                        <label class="form-group__label">
                            문의 유형 <span class="required">*</span>
                        </label>
                        <select class="form-group__select" name="inquiry_type" required>
                            <option value="">선택해 주세요</option>
                            <option value="product">제품 정보 문의</option>
                            <option value="sample">샘플 요청</option>
                            <option value="trade">거래 조건 문의</option>
                            <option value="other">기타 문의</option>
                        </select>
                    </div>

                    <!-- 회사 정보 -->
                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-group__label">
                                회사명 <span class="required">*</span>
                            </label>
                            <input type="text" class="form-group__input" name="company" placeholder="회사명을 입력하세요" required>
                        </div>
                        <div class="form-group">
                            <label class="form-group__label">
                                담당자명 <span class="required">*</span>
                            </label>
                            <input type="text" class="form-group__input" name="name" placeholder="담당자명을 입력하세요" required>
                        </div>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label class="form-group__label">
                                연락처 <span class="required">*</span>
                            </label>
                            <input type="tel" class="form-group__input" name="phone" placeholder="010-0000-0000" required>
                        </div>
                        <div class="form-group">
                            <label class="form-group__label">
                                이메일 <span class="required">*</span>
                            </label>
                            <input type="email" class="form-group__input" name="email" placeholder="example@company.com" required>
                        </div>
                    </div>

                    <!-- 제목 -->
                    <div class="form-group">
                        <label class="form-group__label">
                            제목 <span class="required">*</span>
                        </label>
                        <input type="text" class="form-group__input" name="title" placeholder="문의 제목을 입력하세요" required>
                    </div>

                    <!-- 문의 내용 -->
                    <div class="form-group">
                        <label class="form-group__label">
                            문의 내용 <span class="required">*</span>
                        </label>
                        <textarea class="form-group__textarea" name="content" placeholder="문의하실 내용을 자세히 작성해 주세요.&#10;&#10;- 관심 있는 제품명&#10;- 예상 물량&#10;- 사용 목적 (급식, 유통, 수출 등)&#10;&#10;위 내용을 포함해 주시면 더 정확한 안내가 가능합니다." required></textarea>
                    </div>

                    <!-- 첨부파일 -->
                    <div class="form-group">
                        <label class="form-group__label">첨부파일</label>
                        <input type="file" class="form-group__input" name="attachment" accept=".pdf,.doc,.docx,.jpg,.png">
                        <p class="form-group__help">* 사업자등록증, 참고 자료 등 (최대 10MB, PDF/DOC/JPG/PNG)</p>
                    </div>

                    <!-- 개인정보 수집 동의 -->
                    <div class="form-group">
                        <div class="form-checkbox">
                            <input type="checkbox" id="privacy" name="privacy" required>
                            <label for="privacy">
                                <strong>[필수]</strong> 개인정보 수집 및 이용에 동의합니다.
                                <a href="#" onclick="alert('수집항목: 회사명, 담당자명, 연락처, 이메일\n수집목적: 문의 답변 및 상담\n보유기간: 문의 처리 완료 후 1년'); return false;">내용보기</a>
                            </label>
                        </div>
                    </div>

                    <!-- 제출 버튼 -->
                    <div class="form-actions">
                        <button type="button" class="btn btn--outline" onclick="history.back()" style="color: var(--text-body); border-color: var(--border-light);">취소</button>
                        <button type="submit" class="btn btn--primary">문의하기</button>
                    </div>
                </form>
            </div>

            <!-- 안내 문구 -->
            <div style="margin-top: 2rem; padding: 1.5rem; background: var(--bg-light); border-radius: var(--radius-lg);">
                <h4 style="font-size: 1rem; font-weight: 600; margin-bottom: 0.75rem; color: var(--text-dark);">문의 전 확인해 주세요</h4>
                <ul style="font-size: 0.9rem; color: var(--text-light); line-height: 1.8; padding-left: 1.25rem;">
                    <li>문의 접수 후 영업일 기준 1~2일 내 담당자가 연락드립니다.</li>
                    <li>급한 문의는 전화(061-681-5171)로 연락 주시면 빠른 상담이 가능합니다.</li>
                    <li>샘플 요청은 B2B 거래를 검토 중인 사업자에 한해 가능합니다.</li>
                    <li>자주 묻는 질문은 <a href="faq.html" style="color: var(--primary);">FAQ</a>를 참고해 주세요.</li>
                </ul>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer__container">
            <div class="footer__grid">
                <div class="footer__brand">
                    <h3 class="footer__brand-title">서풍</h3>
                    <p class="footer__brand-desc">
                        신뢰로써 공존하는 기업<br>
                        50년 경력의 베테랑이 가진 '선별의 눈'과 최신 가공 시설로<br>
                        가장 신선하고 안전한 수산물을 공급합니다.
                    </p>
                </div>
                <div class="footer__links">
                    <h4 class="footer__title">바로가기</h4>
                    <ul>
                        <li><a href="../about.html">회사소개</a></li>
                        <li><a href="../process.html">가공 프로세스</a></li>
                        <li><a href="../products.html">제품</a></li>
                        <li><a href="../gallery.html">갤러리</a></li>
                    </ul>
                </div>
                <div class="footer__links">
                    <h4 class="footer__title">게시판</h4>
                    <ul>
                        <li><a href="notice.html">공지사항</a></li>
                        <li><a href="resources.html">자료실</a></li>
                        <li><a href="inquiry.html">제품 문의</a></li>
                        <li><a href="quote.html">견적 요청</a></li>
                    </ul>
                </div>
                <div class="footer__links">
                    <h4 class="footer__title">연락처</h4>
                    <ul>
                        <li><a href="tel:061-681-5171">061-681-5171</a></li>
                        <li>FAX 061-681-5173</li>
                        <li><a href="../contact.html">전남 여수시 화양면 석교로 121</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer__bottom">
                <p>&copy; 2024 영어조합법인 서풍. All rights reserved.</p>
                <p>사업자등록번호: 417-81-41979 | 대표: 서순심 | 평일 09:00 - 18:00 | <a href="../admin/" style="color: var(--text-muted);">관리자</a></p>
            </div>
        </div>
    </footer>

    <script src="../js/main.js"></script>
    <script src="../js/navigation.js"></script>

    <!-- Firebase SDK -->
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, addDoc, Timestamp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // Firebase 설정
        const firebaseConfig = {
            apiKey: "AIzaSyCnMM7eMXjZgjP-dovTJ-cfH7iO5RWQnno",
            authDomain: "seopung-website.firebaseapp.com",
            projectId: "seopung-website",
            storageBucket: "seopung-website.firebasestorage.app",
            messagingSenderId: "563395096680",
            appId: "1:563395096680:web:8f363c42f6833f65628bdd"
        };

        // Firebase 초기화
        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Form Submission
        document.getElementById('inquiryForm').addEventListener('submit', async function(e) {
            e.preventDefault();

            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.textContent = '전송 중...';
            submitBtn.disabled = true;

            // 폼 데이터 수집
            const formData = {
                inquiry_type: this.inquiry_type.value,
                company: this.company.value,
                name: this.name.value,
                phone: this.phone.value,
                email: this.email.value,
                title: this.title.value,
                content: this.content.value,
                createdAt: Timestamp.now(),
                status: 'pending',
                read: false
            };

            try {
                // Firebase에 저장
                await addDoc(collection(db, "inquiries"), formData);

                // 성공 메시지
                alert('문의가 접수되었습니다.\n담당자가 확인 후 연락드리겠습니다.\n\n감사합니다.');

                // 폼 초기화
                this.reset();
            } catch (error) {
                console.error("Error:", error);
                alert('문의 접수 중 오류가 발생했습니다.\n잠시 후 다시 시도해 주세요.\n\n전화 문의: 061-681-5171');
            } finally {
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        });
    </script>
</body>
</html>
